<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 작성</title>
    <link rel="stylesheet" href="/css/board/boardToWrite.css">
    <script defer src="/js/board/boardToWrite.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/menu.css" rel="stylesheet">
</head>
<body>
<div th:insert="~{fragments/menu :: menuBar}"></div>

<div class="container">
    <div class="form-header">
        <h2>게시글 작성</h2>
    </div>

    <form id="post-form" method="post" th:action="@{/board/write}">
        <div class="form-group">
            <!-- 호선 선택 부분 -->
            <label for="line-select"></label>
            <select id="line-select" th:field="${board.stationLine}" required><!-- 모든 속성이 호선-->
                <option value="default">호선 선택</option>
                <option th:each="num : ${#numbers.sequence(1,9)}" th:value="${numStat.count + '호선'}"
                        th:text="${numStat.count} + '호선'" th:class="${'line-' + numStat.count}"></option>
            </select>

            <!-- 역 선택 부분 -->
            <label for="station-select"></label>
            <select id="station-select" th:field="${board.stationName}" required>
                <option th:value="default">역 선택</option>
                <!-- 추후 DB 에서 가져온 역 정보를 이곳에 넣을 예정 -->
            </select>

            <!-- 로그인 후 글쓰려고 들어갔을 때 아이디를 볼 수 있도록 하는 기능 추가 -->
            <span class="user-id" th:field="${board.user.userId}" th:text="${board.user.nickname}"></span>
            <input type="hidden" th:field="${board.user.userId}"/>
            <!-- hidden 으로 user id 받아옴-->
        </div>

        <div class="form-group">
            <label for="title"></label><input type="text" placeholder="제목" th:field="${board.title}" id="title"
                                              required>
        </div>

        <div class="form-group">
            <label for="text"></label><textarea th:field="${board.boardText}" placeholder="내용을 입력하세요" id="text"
                                                required></textarea>
        </div>
        <div class="form-group">
            <button type="submit" th:if="${param.no == null}">글쓰기</button>
        </div>
    </form>
    <form th:action="@{/board/update}" method="post" id="update-form">
        <div class="form-group">
            <input type="hidden" th:name="stationLine" id="hidden-station-line"/>
            <input type="hidden" th:name="stationName" id="hidden-station-name"/>
            <input type="hidden" th:name="title" id="hidden-title"/>
            <input type="hidden" th:name="boardText" id="hidden-board-text"/>
            <input type="hidden" th:name="boardNo" th:value="${board.boardNo}"/>
            <button type="submit" th:if="${param.no != null}">수정</button>
        </div>
    </form>
</div>
<input type="hidden" th:value="${(station['lineOne'])}" id="lineOne">
<input type="hidden" th:value="${(station['lineTwo'])}" id="lineTwo">
<input type="hidden" th:value="${(station['lineThree'])}" id="lineThree">
<input type="hidden" th:value="${(station['lineFour'])}" id="lineFour">
<input type="hidden" th:value="${(station['lineFive'])}" id="lineFive">
<input type="hidden" th:value="${(station['lineSix'])}" id="lineSix">
<input type="hidden" th:value="${(station['lineSeven'])}" id="lineSeven">
<input type="hidden" th:value="${(station['lineEight'])}" id="lineEight">
<input type="hidden" th:value="${(station['lineNine'])}" id="lineNine">
</body>
</html>
